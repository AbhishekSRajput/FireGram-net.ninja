(this.webpackJsonpfireGram=this.webpackJsonpfireGram||[]).push([[0],{24:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(1),i=a.n(n),r=a(16),s=a.n(r),l=(a(24),a(7)),o=a(14),u=a(11);a(30),a(28);u.a.initializeApp({apiKey:"AIzaSyDLlZMBPF3xLFwc03eMTzkMgmY0koEqsS0",authDomain:"firegram-netninja-4eb3e.firebaseapp.com",projectId:"firegram-netninja-4eb3e",storageBucket:"firegram-netninja-4eb3e.appspot.com",messagingSenderId:"476110921398",appId:"1:476110921398:web:6fa2af11e34a1d767b5017"});var j=u.a.storage(),d=u.a.firestore(),b=u.a.firestore.FieldValue.serverTimestamp,p=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){var t=d.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id}))})),i(t)}));return function(){return t()}}),[e]),{docs:c}},f=a(10),m=function(e){var t=e.setSelectedImage,a=p("images").docs;return console.log(a),Object(c.jsx)("div",{className:"img-grid",children:a&&a.map((function(e){return Object(c.jsx)(f.a.div,{layout:!0,whileHover:{opacity:1},className:"img-wrap",onClick:function(){return t(e.url)},children:Object(c.jsx)(f.a.img,{src:e.url,alt:"firebase pics",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})},O=function(e){var t=e.selectedImage,a=e.setSelectedImage;return Object(c.jsx)(f.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1},children:Object(c.jsx)(f.a.img,{src:t,alt:"enlarged pics",initial:{y:"-100vh"},animate:{y:0}})})},g=function(){return Object(c.jsxs)("div",{className:"title",children:[Object(c.jsx)("h1",{children:"FireGram"}),Object(c.jsx)("h2",{children:"Your Pictures"}),Object(c.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})},h=a(13),v=a.n(h),x=a(18),y=function(e){var t=Object(n.useState)(0),a=Object(l.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(null),s=Object(l.a)(r,2),o=s[0],u=s[1],p=Object(n.useState)(null),f=Object(l.a)(p,2),m=f[0],O=f[1];return Object(n.useEffect)((function(){var t=j.ref(e.name),a=d.collection("images");t.put(e).on("state__change",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){u(e)}),Object(x.a)(v.a.mark((function e(){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,n=b(),a.add({url:c,createdAt:n}),O(c);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:c,error:o,url:m}},S=function(e){var t=e.file,a=e.setFile,i=y(t),r=i.url,s=i.progress;return console.log(s,r),Object(n.useEffect)((function(){r&&a(null)}),[r,a]),Object(c.jsx)(f.a.div,{className:"progress-bar",initial:{width:0},animate:{width:s+"%"}})},w=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(null),s=Object(l.a)(r,2),o=s[0],u=s[1],j=["image/png","image/jpeg","image/svg"];return Object(c.jsxs)("form",{children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&j.includes(t.type)?(i(t),u("")):(i(null),u("please select a valid file png or jpeg"))}}),Object(c.jsx)("span",{children:"+"})]}),Object(c.jsxs)("div",{className:"output",children:[o&&Object(c.jsx)("div",{className:"error",children:o}),a&&Object(c.jsx)("div",{children:a.name}),a&&Object(c.jsx)(S,{file:a,setFile:i})]})]})};var I=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],i=t[1];return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(g,{}),Object(c.jsx)(w,{}),Object(c.jsx)(m,{setSelectedImage:i}),a&&Object(c.jsx)(O,{selectedImage:a,setSelectedImage:i})]})};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(I,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.8893c211.chunk.js.map